{# templates/output/epg_tvguide.html #}
{% extends "base.html" %}
{% block title %}TV Guide{% endblock %}

{% block content %}
  <h1>TV Guide</h1>
  <p>Showing programs from {{ now|date:"H:i" }} to {{ end_time|date:"H:i" }}</p>
  
  {% for channel, programs in channels.items %}
    <h2>{{ channel.channel_name }}</h2>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Start Time</th>
          <th>End Time</th>
          <th>Program Title</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        {% for program in programs %}
          <tr>
            <td>{{ program.start_time|date:"H:i" }}</td>
            <td>{{ program.end_time|date:"H:i" }}</td>
            <td>{{ program.title }}</td>
            <td>{{ program.description }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% empty %}
    <p>No programs scheduled in this time frame.</p>
  {% endfor %}
{% endblock %}
